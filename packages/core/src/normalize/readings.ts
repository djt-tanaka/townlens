/**
 * 市区町村の読み仮名データベース。
 * 主要市区町村の漢字名→ひらがな読みのマッピング。
 * 総務省「全国地方公共団体コード」に基づく。
 */

/** 読み仮名エントリ: [漢字名, ...ひらがな読み] */
type ReadingEntry = readonly [string, ...string[]];

const READINGS: ReadonlyArray<ReadingEntry> = [
  // 東京都23区
  ["千代田区", "ちよだく"],
  ["中央区", "ちゅうおうく"],
  ["港区", "みなとく"],
  ["新宿区", "しんじゅくく"],
  ["文京区", "ぶんきょうく"],
  ["台東区", "たいとうく"],
  ["墨田区", "すみだく"],
  ["江東区", "こうとうく"],
  ["品川区", "しながわく"],
  ["目黒区", "めぐろく"],
  ["大田区", "おおたく"],
  ["世田谷区", "せたがやく"],
  ["渋谷区", "しぶやく"],
  ["中野区", "なかのく"],
  ["杉並区", "すぎなみく"],
  ["豊島区", "としまく"],
  ["北区", "きたく"],
  ["荒川区", "あらかわく"],
  ["板橋区", "いたばしく"],
  ["練馬区", "ねりまく"],
  ["足立区", "あだちく"],
  ["葛飾区", "かつしかく"],
  ["江戸川区", "えどがわく"],

  // 東京都市部
  ["八王子市", "はちおうじし"],
  ["立川市", "たちかわし"],
  ["武蔵野市", "むさしのし"],
  ["三鷹市", "みたかし"],
  ["町田市", "まちだし"],
  ["府中市", "ふちゅうし"],
  ["調布市", "ちょうふし"],
  ["小金井市", "こがねいし"],
  ["国分寺市", "こくぶんじし"],
  ["国立市", "くにたちし"],
  ["西東京市", "にしとうきょうし"],
  ["多摩市", "たまし"],

  // 神奈川県
  ["横浜市", "よこはまし"],
  ["川崎市", "かわさきし"],
  ["相模原市", "さがみはらし"],
  ["横須賀市", "よこすかし"],
  ["藤沢市", "ふじさわし"],
  ["茅ヶ崎市", "ちがさきし"],
  ["鎌倉市", "かまくらし"],
  ["平塚市", "ひらつかし"],
  ["小田原市", "おだわらし"],
  ["大和市", "やまとし"],

  // 埼玉県
  ["さいたま市", "さいたまし"],
  ["川越市", "かわごえし"],
  ["熊谷市", "くまがやし"],
  ["川口市", "かわぐちし"],
  ["所沢市", "ところざわし"],
  ["越谷市", "こしがやし"],
  ["草加市", "そうかし"],
  ["春日部市", "かすかべし"],
  ["上尾市", "あげおし"],
  ["朝霞市", "あさかし"],

  // 千葉県
  ["千葉市", "ちばし"],
  ["市川市", "いちかわし"],
  ["船橋市", "ふなばしし"],
  ["松戸市", "まつどし"],
  ["柏市", "かしわし"],
  ["市原市", "いちはらし"],
  ["浦安市", "うらやすし"],
  ["習志野市", "ならしのし"],
  ["流山市", "ながれやまし"],

  // 大阪府
  ["大阪市", "おおさかし"],
  ["堺市", "さかいし"],
  ["豊中市", "とよなかし"],
  ["池田市", "いけだし"],
  ["吹田市", "すいたし"],
  ["泉大津市", "いずみおおつし"],
  ["高槻市", "たかつきし"],
  ["茨木市", "いばらきし"],
  ["東大阪市", "ひがしおおさかし"],
  ["枚方市", "ひらかたし"],
  ["八尾市", "やおし"],
  ["守口市", "もりぐちし"],

  // 愛知県
  ["名古屋市", "なごやし"],
  ["豊橋市", "とよはしし"],
  ["岡崎市", "おかざきし"],
  ["春日井市", "かすがいし"],
  ["豊田市", "とよたし"],
  ["一宮市", "いちのみやし"],

  // 福岡県
  ["福岡市", "ふくおかし"],
  ["北九州市", "きたきゅうしゅうし"],
  ["久留米市", "くるめし"],

  // 北海道
  ["札幌市", "さっぽろし"],
  ["旭川市", "あさひかわし"],
  ["小樽市", "おたるし"],
  ["函館市", "はこだてし"],

  // 宮城県
  ["仙台市", "せんだいし"],

  // 広島県
  ["広島市", "ひろしまし"],
  ["呉市", "くれし"],
  ["福山市", "ふくやまし"],

  // 京都府
  ["京都市", "きょうとし"],
  ["宇治市", "うじし"],

  // 兵庫県
  ["神戸市", "こうべし"],
  ["姫路市", "ひめじし"],
  ["尼崎市", "あまがさきし"],
  ["西宮市", "にしのみやし"],
  ["芦屋市", "あしやし"],

  // 静岡県
  ["静岡市", "しずおかし"],
  ["浜松市", "はままつし"],

  // 新潟県
  ["新潟市", "にいがたし"],

  // 岡山県
  ["岡山市", "おかやまし"],
  ["倉敷市", "くらしきし"],

  // 熊本県
  ["熊本市", "くまもとし"],

  // その他の主要都市
  ["金沢市", "かなざわし"],
  ["長野市", "ながのし"],
  ["松本市", "まつもとし"],
  ["富山市", "とやまし"],
  ["岐阜市", "ぎふし"],
  ["大津市", "おおつし"],
  ["奈良市", "ならし"],
  ["和歌山市", "わかやまし"],
  ["鳥取市", "とっとりし"],
  ["松江市", "まつえし"],
  ["高松市", "たかまつし"],
  ["松山市", "まつやまし"],
  ["高知市", "こうちし"],
  ["長崎市", "ながさきし"],
  ["佐賀市", "さがし"],
  ["大分市", "おおいたし"],
  ["宮崎市", "みやざきし"],
  ["鹿児島市", "かごしまし"],
  ["那覇市", "なはし"],
  ["水戸市", "みとし"],
  ["宇都宮市", "うつのみやし"],
  ["前橋市", "まえばしし"],
  ["高崎市", "たかさきし"],
  ["甲府市", "こうふし"],
  ["福井市", "ふくいし"],
  ["津市", "つし"],
  ["徳島市", "とくしまし"],
  ["山口市", "やまぐちし"],
  ["盛岡市", "もりおかし"],
  ["秋田市", "あきたし"],
  ["山形市", "やまがたし"],
  ["福島市", "ふくしまし"],
  ["青森市", "あおもりし"],
];

/** 漢字名→ひらがな読みリスト のマップ */
const NAME_TO_READINGS: ReadonlyMap<string, ReadonlyArray<string>> = new Map(
  READINGS.map(([name, ...readings]) => [name, readings]),
);

/** ひらがな読み→漢字名リスト の逆引きマップ */
const READING_TO_NAMES: ReadonlyMap<string, ReadonlyArray<string>> = (() => {
  const map = new Map<string, string[]>();
  for (const [name, ...readings] of READINGS) {
    for (const reading of readings) {
      const existing = map.get(reading) ?? [];
      map.set(reading, [...existing, name]);
    }
  }
  return new Map(
    Array.from(map.entries()).map(([key, value]) => [key, value as ReadonlyArray<string>]),
  );
})();

/** 市区町村名からひらがな読みを取得する。未登録の場合は空配列を返す。 */
export function getMunicipalityReading(name: string): ReadonlyArray<string> {
  return NAME_TO_READINGS.get(name) ?? [];
}

/** ひらがな読みから市区町村名候補を逆引きする。完全一致のみ。 */
export function findByReading(reading: string): ReadonlyArray<string> {
  return READING_TO_NAMES.get(reading) ?? [];
}

/** 読み仮名が登録されているか判定する */
export function hasReading(name: string): boolean {
  return NAME_TO_READINGS.has(name);
}
